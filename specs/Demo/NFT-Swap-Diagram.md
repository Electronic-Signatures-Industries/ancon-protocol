# Ancon NFT Swap
```
    ┌─────────────────────┐                                               ┌─────────────────────────────────┐
    │                     ├──────requestLazyMint(), EIP-712──(gas fee)───►│                                 │
    │                     │                                               │                                 │
    │                     │◄───────────────Voucher──id────────────────────┤                                 │
    │                     │                                               │         Ancon Ethereum          │
    │                     │                                               │           (Solidity)            │
    │                     │                                               │                                 │
    │                     ├────────────────initiateSwap()─────────────────┤              NFT                │
    │        User         │                                               │                                 ├────┐
    │                     │◄─────────────────URI Prefix───────────────────┤                                 │    │
    │                     │                                               │                                 ├────┼─────────┐
    │                     │                                               └─────────────────────────────────┘    │         │
    │                     │                                                                                      │         │
    │                     ├────────────────────┐                                                                 │         │
    │                     │                    │                                                                 │         │
    │                     │◄─────proof────┐    │                                                                 │         │
    └─────────┬───────────┘               │    │                                                                 │         │
              │                           │    │                                                                 │         │
              │                           │    │                                                             (gas│fee)     │
              │                           │    │                                                                 │         │
              │                           │    │                                                                 │         │
              │                           │    │                                                                 │         │
          (gas fee)                       │    │                                                             claim()       │
              │                           │    │                                                                 │         │
              │                           │    │                                                                 │         │
              │                           │    │                                                                 │  Voucher│Id, offchain lookup
initiateSwapWithProof(), proof            │    │                                                                 │         │
              │                           │    │                                                                 │         │
              │                           │    │                                                                 │         │
┌─────────────▼─────────────────┐         │    │                                ┌────────────────────────────┐   │         │
│                               │         │    │   initiateSwap(                │                            │   │         │
│        Ancon Protocol         │         │    └────Voucher id, prefix)─────────►      Ancon Gateway         │   │         │
│        (Cosmos, Go)           │         │                                     │       (Javascript)         │   │         │
│                               │         │                                     │                            │   │         │
│                mintNFT()      │         └─────────────────────────────────────┤        verifyPrefix()      │   │         │
│               transfer()      │                                               │       verifyVoucher()      ├───┘         │
│       Emit mintedEvent()      │                                               │         signVoucher()      │             │
│                               ├────────────────mintedEvent()──────────────────►                            │◄────────────┘
└───────────────────────────────┘                                               └────────────────────────────┘
```